<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://qianmianyao.cn</id>
    <title>åƒé¢å¦–çš„ç½‘ç»œæ—¥å¿—</title>
    <updated>2021-07-12T04:44:58.473Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://qianmianyao.cn"/>
    <link rel="self" href="https://qianmianyao.cn/atom.xml"/>
    <subtitle>&lt;script src=&quot;https://v1.hitokoto.cn/?encode=js&amp;select=%23hitokoto&quot; defer&gt;&lt;/script&gt;
&lt;span id=&quot;hitokoto&quot;&gt;</subtitle>
    <logo>https://qianmianyao.cn/images/avatar.png</logo>
    <icon>https://qianmianyao.cn/favicon.ico</icon>
    <rights>All rights reserved 2021, åƒé¢å¦–çš„ç½‘ç»œæ—¥å¿—</rights>
    <entry>
        <title type="html"><![CDATA[ä¼˜åŒ–Linuxä¸­rmçš„åˆ é™¤é€»è¾‘]]></title>
        <id>https://qianmianyao.cn/post/python_rm/</id>
        <link href="https://qianmianyao.cn/post/python_rm/">
        </link>
        <updated>2021-07-12T04:01:52.000Z</updated>
        <content type="html"><![CDATA[<p>åœ¨è…¾è®¯å¼€å‘è€…ä¸­å¿ƒåˆ·å¸–çš„æ—¶å€™å‘ç°äº†è¿™ä¹ˆä¸€ä¸ªå¸–å­â€œä½¿ç”¨shellè„šæœ¬æ¥ä¼˜åŒ–rmçš„åˆ é™¤é€»è¾‘â€ï¼Œé…å›¾å¦‚ä¸‹<br>
<img src="https://ftp.bmp.ovh/imgs/2021/07/5704ff271731fb16.png" alt="å›¾ç‰‡æ¥æºäºè…¾è®¯ç¤¾åŒº" loading="lazy"><br>
æˆ‘æƒ³èµ·æ¯æ¬¡æ— æ„ä¸­ä½¿ç”¨<code>rm -rf</code>æ¥åˆ é™¤å½“æ—¶ä»¥ä¸ºä¸é‡è¦çš„æ–‡ä»¶ï¼Œä¹‹ååˆè¦é‡æ–°ä¸‹è½½çš„è›‹ç–¼æ—¶åˆ»ï¼Œè™½ç„¶æœ‰äººæ¨èç”¨<code>alias rm=mv</code>æ¥ä»£æ›¿rmï¼Œä½†æ˜¯ä½¿ç”¨ä½“éªŒå¹¶éé‚£ä¹ˆç¾å¥½ï¼Œçœ‹åˆ°è¿™ä¸ªå¸–å­åï¼Œå¾ˆæ„Ÿå…´è¶£å°±æ‰“ç®—ç”¨shellæ¥å†™ä¸€ä¸ªã€‚<br>
ä½†æ˜¯ï¼Œå‡ å¹´æ²¡æœ‰ä½¿ç”¨è¿‡shelläº†ï¼Œè¯­æ³•ä¹Ÿå¿˜å…‰äº†ï¼Œå†™èµ·æ¥ç£•ç£•ç¢°ç¢°ï¼Œæ­£å¥½æˆ‘ç°åœ¨åœ¨å­¦pythonï¼Œæ­£å¥½ä½¿ç”¨pythonæ¥å®ç°<br>
è„šæœ¬å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">import os
import sys

list_file = sys.argv[1:]


def rm_optimeize():
    for file_source in list_file:
        file_ta = os.path.exists(file_source)
        file_size = os.path.getsize(file_source)
        if file_ta and file_size &gt; 102400:
            ask = input(&quot;æ–‡ä»¶å¤§äº1Gï¼Œæ˜¯å¦åˆ é™¤[yes/no]&quot;)
            if ask == &quot;yes&quot;:
                os.system(f'rm -rf {file_source}')
            else:
                os.system(f'mv {file_source} /tmp')
        elif file_ta and file_size &lt; 102400:
            os.system(f'mv {file_source} /tmp')
        elif not file_ta:
            continue


if sys.argv[1] == &quot;./*&quot;:
    rm_optimeize()
else:
    rm_optimeize()
</code></pre>
<p>è„šæœ¬çš„æ•´ä½“é€»è¾‘å¾ˆç®€å•ï¼Œå°±æ˜¯å›¾ä¸Šçš„é€»è¾‘</p>
<ol>
<li>é¦–å…ˆè·å–å¤–éƒ¨ä¼ å…¥çš„å‚æ•°ï¼Œå¦‚æ–‡ä»¶å</li>
<li>è·å–åˆ°å‚æ•°åå­˜åˆ°å˜é‡ä¸­ï¼Œå˜é‡æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ‰€ä»¥å¯ä»¥å­˜æ”¾å¤šä¸ªå‚æ•°</li>
<li>ä½¿ç”¨froå¾ªç¯æ¥éå†å‚æ•°ï¼Œè¿›è¡Œåˆ¤æ–­ï¼Œæ¯”å¦‚æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œæ–‡ä»¶å¤§å°åˆ¤æ–­ï¼Œç„¶åè¿›è¡Œå¤„ç†</li>
<li>ä¸ºäº†å…¼å®¹<code>rm -rf ./*</code>è¯­æ³•ï¼Œå¯åŠ¨è„šæœ¬åä¼šå…ˆè¿›è¡Œä¸€ä¸ªå­—ç¬¦ä¸²çš„åˆ¤æ–­</li>
</ol>
<p>ä¸Šé¢çš„è„šæœ¬å¯ä»¥ç›´æ¥æ‹¿æ¥ç”¨ï¼Œæœ¬æ¬¡ç»ƒä¹ åˆ°æ­¤ç»“æŸ</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Debianæ›´æ–°å†…æ ¸]]></title>
        <id>https://qianmianyao.cn/post/debian-geng-xin-nei-he/</id>
        <link href="https://qianmianyao.cn/post/debian-geng-xin-nei-he/">
        </link>
        <updated>2021-06-18T13:04:11.000Z</updated>
        <summary type="html"><![CDATA[<p>ä½“éªŒæ–°å†…æ ¸æ–°ç‰¹æ€§</p>
]]></summary>
        <content type="html"><![CDATA[<p>ä½“éªŒæ–°å†…æ ¸æ–°ç‰¹æ€§</p>
<!-- more -->
<h2 id="debian">Debian</h2>
<p>ä½¿ç”¨<code>uname -a</code>æŸ¥çœ‹å†…æ ¸ï¼Œè¾“å‡ºå¦‚ä¸‹</p>
<pre><code class="language-bash">Linux VM-8-12-debian 4.19.0-11-amd64 #1 SMP Debian 4.19.146-1 (2020-09-17) x86_64 GNU/Linux
</code></pre>
<h3 id="ç¼–è¯‘å®‰è£…å†…æ ¸">ç¼–è¯‘å®‰è£…å†…æ ¸</h3>
<p>é¦–å…ˆå»<a href="https://www.kernel.org/?ivk_sa=1024320u">å®˜ç½‘</a>æˆ–è€…å›½å†…<a href="https://mirror.bjtu.edu.cn/kernel/linux/kernel/v5.x/">é•œåƒç«™</a>ä¸‹è½½éœ€è¦çš„å†…æ ¸ç‰ˆæœ¬</p>
<ul>
<li>è§£å‹ä¸”è¿›å…¥è§£å‹åŒ…</li>
<li>ä½¿ç”¨<code>make menuconfig</code>æ¥è¿›è¡Œé…ç½®</li>
</ul>
<p>æŒ‰ç…§æç¤ºå®‰è£…æ‰€éœ€è¦çš„ä¾èµ–å³å¯</p>
<ul>
<li>ä¿®æ”¹ç”Ÿæˆçš„<code>.config</code>æ–‡ä»¶ï¼Œç¼–è¾‘<code>CONFIG_SYSTEM_TRUSTED_KEYS=&quot;&quot;</code>ä½¿å…¶ä¸ºç©º</li>
<li>ç¦ç”¨ç­¾å</li>
</ul>
<pre><code class="language-bash">scripts/config --disable MODULE_SIG
scripts/config --disable DEBUG_INFO
</code></pre>
<ul>
<li>ä½¿ç”¨<code>make deb-pkg</code>ç”ŸæˆdebåŒ…</li>
</ul>
<p>ä½¿ç”¨<code>- j</code>é€‰é¡¹å¯ä»¥è°ƒç”¨æ›´å¤šæ ¸å¿ƒï¼Œæ¯”å¦‚<code>make -j 8 deb-pkg</code></p>
<ul>
<li>ç¼–è¯‘å®Œæ¯•åä¼šåœ¨æ‰€åœ¨æ–‡ä»¶å¤¹çš„æ ¹ç›®å½•å‡ºç°3ä¸ªç¼–è¯‘å®Œæˆçš„debæ–‡ä»¶ï¼Œç›´æ¥å®‰è£…é‡å¯å³å¯</li>
</ul>
<h3 id="å¸è½½æ—§å†…æ ¸">å¸è½½æ—§å†…æ ¸</h3>
<p>ä½¿ç”¨<code>dpkg --list | grep linux-image</code> æ¥æŸ¥çœ‹å®‰è£…çš„æ‰€æœ‰å†…æ ¸</p>
<p>debinaä¸­å†…æ ¸çš„åŒ…åæ˜¯<code>linux-images</code>ï¼Œredhatä¸­åŒ…å<code>kernel</code></p>
<ul>
<li>å¸è½½å†…æ ¸éœ€è¦åˆ é™¤å†…æ ¸æ–‡ä»¶å’Œå¤´éƒ¨æ–‡ä»¶</li>
</ul>
<pre><code class="language-jsx">$ apt purge linux-image-version
$ apt purge linux-headers-version
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åˆ©ç”¨WARPè¿›è¡Œæµåª’ä½“è§£é”]]></title>
        <id>https://qianmianyao.cn/post/warp/</id>
        <link href="https://qianmianyao.cn/post/warp/">
        </link>
        <updated>2021-05-26T10:51:55.000Z</updated>
        <summary type="html"><![CDATA[<p>é€›Githubçš„æ—¶å€™çœ‹æ¨èå‘ç°äº†è¿™ä¸ªé¡¹ç›®ï¼Œç»“æœå°±æ˜¯ä¸€æ™šä¸Šæ²¡ç¡ï¼Œå¹¶ä¸”ä»˜å‡ºäº†63å…ƒçš„æµ‹è¯•ç»“æœä¸‹ï¼Œå†³å®šæ°´ä¸€ç¯‡æ–‡ç« </p>
]]></summary>
        <content type="html"><![CDATA[<p>é€›Githubçš„æ—¶å€™çœ‹æ¨èå‘ç°äº†è¿™ä¸ªé¡¹ç›®ï¼Œç»“æœå°±æ˜¯ä¸€æ™šä¸Šæ²¡ç¡ï¼Œå¹¶ä¸”ä»˜å‡ºäº†63å…ƒçš„æµ‹è¯•ç»“æœä¸‹ï¼Œå†³å®šæ°´ä¸€ç¯‡æ–‡ç« </p>
<!-- more -->
<p>Warpæ˜¯CloudFlareæ¨å‡ºçš„ä¸€ä¸ªVPNæœåŠ¡ï¼Œç›®çš„åœ¨äºåŠ å¯†æµé‡å’ŒIPï¼Œå®ç°åŒ¿åè®¿é—®ï¼Œå…·ä½“ä¿¡æ¯å¯ä»¥å‚è€ƒå®˜æ–¹çš„åšæ–‡ğŸ‘‰<a href="https://blog.cloudflare.com/zh-cn/announcing-warp-plus-zh-cn/">Introducing WARP: Fixing Mobile Internet Performance and Security</a></p>
<p>æ‰‹åŠ¨é…ç½®å…¶å®ä¹Ÿä¸éš¾ï¼Œä¸ºäº†æ›´æ–¹ä¾¿è¿™é‡Œå½“ç„¶æ¨èä½¿ç”¨ä¸€é”®è„šæœ¬</p>
<p><a href="https://github.com/missuo/CloudflareWarp">missuo/CloudflareWarp</a></p>
<h3 id="å¼€å§‹">å¼€å§‹</h3>
<p>é¦–å…ˆç¡®ä¿ä½ çš„VPSå†…æ ¸ç‰ˆæœ¬â‰¥5.Xï¼Œå¦‚æœä¸ç¬¦åˆè¦è¯·å…ˆæ›´æ–°å†…æ ¸ï¼Œè¿™é‡Œä½¿ç”¨Debian10ä½œä¸ºæ¼”ç¤º</p>
<p>1.æ·»åŠ æºï¼Œæ‰“å¼€ <code>/etc/apt/source.list</code> åœ¨å°¾éƒ¨æ·»åŠ å¦‚ä¸‹å†…å®¹</p>
<pre><code class="language-json">deb https://deb.debian.org/debian buster-backports main
</code></pre>
<p>2.å®‰è£…å†…æ ¸åé‡æ–°å¯åŠ¨</p>
<pre><code class="language-bash">apt install -t buster-backports linux-image-cloud-amd64 linux-headers-cloud-amd64 &amp;&amp; reboot
</code></pre>
<p>3.å†…æ ¸å®‰è£…å®Œæ¯•åæ‰§è¡Œä¸€é”®è„šæœ¬</p>
<pre><code class="language-bash">wget -O warp.sh https://raw.githubusercontent.com/missuo/CloudflareWarp/main/warp.sh &amp;&amp; bash warp.sh
</code></pre>
<p>4.è„šæœ¬æ‰§è¡Œå®Œæ¯•åä¼šå‡ºç°å¦‚ä¸‹é€‰é¡¹ï¼Œé€‰æ‹©4ï¼Œå¢åŠ IPV6ï¼Œç­‰å¾…æ‰§è¡Œå®Œæ¯•å³å¯</p>
<figure data-type="image" tabindex="1"><a href="https://imgtu.com/i/2jpAyt"><img src="https://z3.ax1x.com/2021/06/16/2jpAyt.png" alt="2jpAyt.png" loading="lazy"></a></figure>
<p>5.ipv6æµ‹è¯•ï¼Œè¾“å…¥ <code>curl ipv6.ip.sb</code> è¿”å›ç»“æœåº”è¯¥æ˜¯ä½ çš„ipv6åœ°å€</p>
<p>6.netflixæµ‹è¯•ï¼Œæ‰§è¡Œå¦‚ä¸‹è„šæœ¬ï¼Œå¦‚ä¸‹å›¾åˆ™è¯æ˜è§£é”æˆåŠŸ</p>
<pre><code class="language-bash">wget -O nf https://cdn.jsdelivr.net/gh/sjlleo/netflix-verify/CDNRelease/nf_2.60_linux_amd64 &amp;&amp; chmod +x nf &amp;&amp; clear &amp;&amp; ./nf
</code></pre>
<figure data-type="image" tabindex="2"><a href="https://imgtu.com/i/2jpZef"><img src="https://z3.ax1x.com/2021/06/16/2jpZef.png" alt="2jpZef.png" loading="lazy"></a></figure>
<p>7.ç”±äºä»…è§£é”ipv6ï¼Œæˆ‘ä»¬éœ€è¦è®©è·¯ç”±ä¼˜å…ˆä½¿ç”¨ipv6ï¼ŒéªŒè¯ä¼˜å…ˆçº§å¯ä»¥ä½¿ç”¨ <code>curl ip.p3terx.com</code> æ¥æµ‹è¯•ï¼Œè¾“å‡ºçš„æ˜¯ipv4å°±è¯´æ˜ä½ ç°åœ¨æ˜¯ipv4ä¼˜å…ˆï¼Œåä¹‹äº¦ç„¶ã€‚ä¿®æ”¹ <code>/etc/gai.conf</code> åœ¨æœ€åä¸€è¡Œæ·»åŠ ä¸‹é¢çš„ä»£ç </p>
<pre><code class="language-bash">precedence ::ffff:0:0/96 100
</code></pre>
<p>å…³äºä»£ç†å·¥å…·çš„ipv6ä¼˜å…ˆï¼Œè¯·å‚è€ƒå¦‚ä¸‹è¿™ç¯‡åšå®¢ğŸ‘‰<a href="https://loukky.com/archives/1507?__cf_chl_jschl_tk__=ad63295e7e916843957f5f94727b8ecf4b15ddc3-1621981917-0-AYTeutMNxpDydZRNs7P_LQIkqwx_ksRC7zIyTtEZXTtudJ8Yflb0L7qDiL5Jprux30izkMyf_AyoEVjyMMpVj4AcTVGx7LF2WQcV4zLGYLiD1Je_4gqTPuiw7EyrJTQ1IEGc2p-xeg_06Gv69ikZ9EZyoiY9wdsWPzJneGbxdGGvJ7TRiCtcoOTvc6fppGJNrLfqGLc0yStntnuAWGrm76ZVy4vK3rE9OUmRA43-vFEVlducGbowUZrgjFqUBgxr0YWDumUAVdkYo_0tx8dcu1GpC3lzibVSrcNG1ql4sYixfOa6pdlNK-lTlHylGvlKACVScAlluhAVfB6lJewDu5CCRAwXJiyUN4EeLuB8zd3tk5MKtfyfQo1GyQUMgD13hpcQQLeC5liLur5U78LTC2auz0SHgVIt4SRwsStuV5H60jK3RQMDf0VDbkKBqcAcHWuO7zcm5178VGrDuQ-sz4FKxRbOSm8O14k6y6VswTt7">IPV6ä¼˜å…ˆ</a></p>
<p>ç°åœ¨ï¼Œå°±å¯ä»¥æ„‰å¿«çš„è§‚çœ‹Netflixå•¦</p>
<figure data-type="image" tabindex="3"><a href="https://imgtu.com/i/2jpew8"><img src="https://z3.ax1x.com/2021/06/16/2jpew8.png" alt="2jpew8.png" loading="lazy"></a></figure>
<h3 id="ç»“è¯­">ç»“è¯­</h3>
<p>å·å·ç”¨speedtestæ¥æµ‹ä¸€ä¸‹Warpçš„é€Ÿåº¦</p>
<p><a href="https://imgtu.com/i/2jpEOP"><img src="https://z3.ax1x.com/2021/06/16/2jpEOP.png" alt="2jpEOP.png" loading="lazy"></a><br>
ç”±äºæˆ‘å¹¶æ²¡æœ‰å¥ˆè²çš„è´¦å·ï¼Œä¸ºäº†æµ‹è¯•æ˜¯å¦æˆåŠŸï¼Œå»ä¹°äº†ä¸€ä¸ªè´¦å·ï¼Œæœ‰æ•ˆæœŸä¸¤ä¸ªæœˆï¼Œç»“æœæ— æ³•ç™»å½•ã€‚</p>
<p>åé¦ˆè¿‡å»å‘Šè¯‰æˆ‘æ˜¯ä»£ç†çš„é—®é¢˜ï¼Œå®åœ¨æ˜¯æƒ³çŸ¥é“ç»“æœï¼ŒåˆèŠ±é’±ä¹°äº†ä¸€ä¸ªæœˆçš„ä»£ç†ï¼Œç»“æœè¿˜æ˜¯æ‰“ä¸å¼€ã€‚</p>
<p>æ— å¥ˆä¹‹ä¸‹ï¼Œgoogleäº†ä¸€ä¸‹çœ‹çœ‹æœ‰æ²¡æœ‰ä¾¿å®œçš„æœˆæŠ›è´¦å·ï¼Œç»“æœæ‰¾åˆ°äº†3.5å…ƒ/æœˆçš„5æ—¥æŠ›ï¼Œtmdï¼Œæ€ªè‡ªå·±æ²¡æå‰å»æ‰¾è¿™ç§è´¦å·ï¼Œæœ€åçš„ç»“æœå°±æ˜¯ï¼Œ<code>ä»£ç†=22/æœˆ</code>ã€<code>è´¦å·20/æœˆx2</code>ï¼Œä¸€å…±æŸå¤±62å…ƒã€‚</p>
<p>æ‰€ä»¥ï¼Œåƒä¸‡è¦æ—©ç¡</p>
<p>END</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ­å»ºKMSåœ¨çº¿æ¿€æ´»æœåŠ¡å™¨]]></title>
        <id>https://qianmianyao.cn/post/kms/</id>
        <link href="https://qianmianyao.cn/post/kms/">
        </link>
        <updated>2021-05-16T06:02:00.000Z</updated>
        <summary type="html"><![CDATA[<p>å¯¹æ¯”å…¶ä»–ç‰ˆæœ¬çš„kmsï¼Œæ›´æ–¹ä¾¿äº†ï¼Œå¯ä»¥180å¤©åè‡ªåŠ¨ç»­æœŸï¼Œæ­å»ºæ–¹ä¾¿ï¼Œæ— éœ€é…ç½®ï¼Œæ­å»ºå®Œæ¯•åä»…éœ€è¦ä¸€ä¸ªç®€å•çš„batè„šæœ¬å°±å¯ä»¥æ¿€æ´»ç³»ç»Ÿ</p>
]]></summary>
        <content type="html"><![CDATA[<p>å¯¹æ¯”å…¶ä»–ç‰ˆæœ¬çš„kmsï¼Œæ›´æ–¹ä¾¿äº†ï¼Œå¯ä»¥180å¤©åè‡ªåŠ¨ç»­æœŸï¼Œæ­å»ºæ–¹ä¾¿ï¼Œæ— éœ€é…ç½®ï¼Œæ­å»ºå®Œæ¯•åä»…éœ€è¦ä¸€ä¸ªç®€å•çš„batè„šæœ¬å°±å¯ä»¥æ¿€æ´»ç³»ç»Ÿ</p>
<!-- more -->
<h3 id="å®‰è£…">å®‰è£…</h3>
<p>1.é¦–å…ˆå»githubå‘å¸ƒé¡µé¢ä¸‹è½½å®‰è£…åŒ…</p>
<pre><code class="language-bash">wget https://github.com/Wind4/vlmcsd/releases/download/svn1113/binaries.tar.gz
</code></pre>
<p>2.è§£å‹å¹¶è¿›å…¥æ–‡ä»¶å¤¹ï¼Œç¡®è®¤ä½ çš„cpuæ˜¯ä»€ä¹ˆæ¶æ„ï¼Œæ‰¾åˆ°linuxçš„å¯æ‰§è¡Œæ–‡ä»¶</p>
<pre><code class="language-bash">cd binaries/Linux/intel/static/
./vlmcsd-x64-musl-static
#ç›´æ¥è¿è¡Œå³å¯
ss -tlp | grep vlmcs
#æŸ¥çœ‹ç«¯å£ï¼Œåº”è¯¥æ˜¯1688
</code></pre>
<p>3.åœ¨windowsä¸Šç¼–è¾‘ä¸€ä¸ª <code>kms.bat</code> æ–‡ä»¶ï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹</p>
<pre><code class="language-powershell">slmgr /skms ip:1688
#å¡«å…¥ä½ çš„ipå’Œç«¯å£
slmgr /ato
slmgr /xpr
</code></pre>
<p>4.å³é”® <code>kms.bat</code> æ–‡ä»¶ï¼Œé€‰æ‹©ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼Œä¸€è·¯æŒ‰ç¡®å®šå³å¯</p>
<p><a href="https://github.com/Wind4/vlmcsd">Wind4/vlmcsd</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Bashå‘½ä»¤è¡¥å…¨]]></title>
        <id>https://qianmianyao.cn/post/bash-ming-ling-bu-quan/</id>
        <link href="https://qianmianyao.cn/post/bash-ming-ling-bu-quan/">
        </link>
        <updated>2021-05-12T06:04:33.000Z</updated>
        <summary type="html"><![CDATA[<p>æ€»æ˜¯ä¼šå¿˜è®°ä¸€äº›ä¸æ€ä¹ˆå¸¸ç”¨çš„å‘½ä»¤ï¼Œä»Šå¤©åœ¨githubé€›è¡—çš„æ—¶å€™å‘ç°äº†bashçš„ä¸€æ¬¾å‘½ä»¤è¡¥å…¨å·¥å…·ï¼Œååˆ†å¥½ç”¨</p>
]]></summary>
        <content type="html"><![CDATA[<p>æ€»æ˜¯ä¼šå¿˜è®°ä¸€äº›ä¸æ€ä¹ˆå¸¸ç”¨çš„å‘½ä»¤ï¼Œä»Šå¤©åœ¨githubé€›è¡—çš„æ—¶å€™å‘ç°äº†bashçš„ä¸€æ¬¾å‘½ä»¤è¡¥å…¨å·¥å…·ï¼Œååˆ†å¥½ç”¨</p>
<!-- more -->
<p><a href="https://github.com/scop/bash-completion">scop/bash-completion</a></p>
<h3 id="å®‰è£…">å®‰è£…</h3>
<p>1.ä¸‹è½½bash_completionæºç å¹¶ä¸”è§£å‹</p>
<pre><code class="language-bash">wget https://github.com/scop/bash-completion/releases/download/2.11/bash-completion-2.11.tar.xz
tar -xf bash-completion-2.11.tar.xz
</code></pre>
<p>2.ç¼–è¯‘å®‰è£…</p>
<pre><code class="language-bash">cd bash-completion*
./confgure
make &amp;&amp; make install
</code></pre>
<p>3.ç¼–è¯‘å®Œæ¯•ååº•éƒ¨ä¼šå‡ºç°å¦‚ä¸‹ä¿¡æ¯ï¼Œæ¯”å¦‚ <code>/usr/local/share/bash-completion/bash_completion</code> å°±æ˜¯ç¼–è¯‘å®Œæ¯•åçš„å®‰è£…åœ°å€ï¼Œç­‰ä¼šéœ€è¦ç”¨</p>
<pre><code class="language-bash">***********
make  install-data-hook
make[3]: Entering directory '/root/bash-completion-2.11'
tmpfile=`mktemp ${TMPDIR:-/tmp}/bash_completion.XXXXXX` &amp;&amp; \
/bin/sed -e 's|-/etc/bash_completion\.d|-/usr/local/etc/bash_completion.d|' \
    /usr/local/share/bash-completion/bash_completion &gt;$tmpfile &amp;&amp; \
cat $tmpfile &gt;/usr/local/share/bash-completion/bash_completion &amp;&amp; \
rm $tmpfile
make[3]: Leaving directory '/root/bash-completion-2.11'
make[2]: Leaving directory '/root/bash-completion-2.11'
make[1]: Leaving directory '/root/bash-completion-2.11'
</code></pre>
<p>4.ä¿®æ”¹ <code>.bashrc</code> æ–‡ä»¶ï¼Œåœ¨åº•éƒ¨æ·»åŠ å¦‚ä¸‹ä¿¡æ¯ï¼Œå§pathæ”¹æˆä½ åˆšæ‰å®‰è£…å®Œæ¯•çš„åœ°å€</p>
<pre><code class="language-bash">[[ $PS1 &amp;&amp; -f /path ]] &amp;&amp; \
    . /path
</code></pre>
<p>5.ç°åœ¨è¾“å…¥å‘½ä»¤åï¼ŒæŒ‰tabå»ºå³å¯</p>
<!-- more -->
<h3 id="ç»“è¯­">ç»“è¯­</h3>
<p>å…¶å®zshå’Œfishéƒ½æœ‰å¾ˆå¤šè¡¥å…¨æ’ä»¶ï¼Œä½†æ˜¯åœ¨æœåŠ¡å™¨ä¸Šè£…è¿™ä¸¤ä¸ªä¸œè¥¿æ„Ÿè§‰åˆ«æ‰­ï¼Œä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œå°±æ‰¾åˆ°äº†æ”¯æŒbashçš„å·¥å…·ï¼Œè¯´å®è¯ä½“éªŒå¾ˆä¸é”™ï¼Œçœå»äº†ä¸è®°å¾—å‘½ä»¤ç„¶åå»googleçš„æ—¶é—´ï¼Œå¤§å¤§æå‡æ•ˆç‡</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[File Browserä¸€ä¸ªç®€å•çš„ç½‘ç›˜ç¨‹åº]]></title>
        <id>https://qianmianyao.cn/post/29/</id>
        <link href="https://qianmianyao.cn/post/29/">
        </link>
        <updated>2020-06-11T15:02:49.000Z</updated>
        <summary type="html"><![CDATA[<p>ä½¿ç”¨nginxå’Œç¨‹åºæœ¬ä½“æˆ–è€…dockeræ­å»ºä¸€ä¸ªç®€æ˜“çš„ç½‘ç›˜ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ä½¿ç”¨nginxå’Œç¨‹åºæœ¬ä½“æˆ–è€…dockeræ­å»ºä¸€ä¸ªç®€æ˜“çš„ç½‘ç›˜ã€‚</p>
<!-- more -->
<p>File Browseræ˜¯ä»€ä¹ˆï¼Œè¯·ç§»æ­¥å®˜æ–¹ç½‘ç«™ï¼š<a href="https://filebrowser.xyz/">https://filebrowser.xyz</a></p>
<p>ä¹Ÿå¯ä»¥ç”¨ï¼š<a href="https://qianmianyao.cn/28">https://qianmianyao.cn/28</a></p>
<h2 id="nginx">Nginx</h2>
<p>æ‹¿centosæ¥æ¼”ç¤º<br>
å…ˆå®‰è£…nginx</p>
<pre><code class="language-bash">yum install nginx -y
</code></pre>
<p>å®‰è£…flie browser</p>
<pre><code class="language-bash">curl -fsSL https://filebrowser.org/get.sh | bash
</code></pre>
<p>å¯åŠ¨flie browserå¹¶ä¸”è®©å®ƒåœ¨åå°è¿è¡Œ</p>
<pre><code class="language-bash">filebrowser -r /path/to/your/files &amp;
# -r åé¢è®¾ç½®ä½ è¦å­˜æ”¾æ–‡ä»¶çš„è·¯å¾„
</code></pre>
<p>å¯åŠ¨å®Œæ¯•åé»˜è®¤çš„ç«¯å£æ˜¯8080ï¼Œå½“ç„¶ç°åœ¨æ˜¯è®¿é—®ä¸äº†çš„ï¼Œæˆ‘ä»¬å†æ¥è®¾ç½®nginx</p>
<p>ç¼–è¾‘nginxé…ç½®æ–‡ä»¶</p>
<pre><code class="language-json">server {
	listen 80;
	server_name localhost;
	location / {
		proxy_pass http://127.0.0.1:8080;
	}
}
//ç»‘å®šè‡ªå·±çš„åŸŸåå¯ä»¥å°†localhostå­—æ®µæ”¹æˆè‡ªå·±çš„åŸŸå
</code></pre>
<p>åˆ°è¿™é‡Œå°±è®¾ç½®å®Œæ¯•ï¼Œæˆ‘ä»¬è®¿é—®ä½ çš„vpsçš„IPå°±å¯ä»¥çœ‹åˆ°éƒ¨ç½²å®Œæ¯•çš„ç¨‹åºäº†</p>
<p>åå°çš„å¸å·å’Œå¯†ç </p>
<ul>
<li>Username: admin</li>
<li>Password: admin</li>
</ul>
<h2 id="dockerå®‰è£…filebrowser">dockerå®‰è£…filebrowser</h2>
<p>é¦–å…ˆç›´æ¥ä½¿ç”¨dockerå®˜æ–¹çš„ä¸€é”®è„šæœ¬å®‰è£…å¥½docker</p>
<pre><code class="language-bash">curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun
</code></pre>
<p>è·å–é•œåƒ</p>
<pre><code class="language-bash">docker pull filebrowser/filebrowser
</code></pre>
<p>å¼€å§‹é…ç½®</p>
<pre><code class="language-bash">mkdir ./filebrowser
#å»ºç«‹ç›®å½•
touch filebrowser.db
#å»ºç«‹æ•°æ®åº“æ–‡ä»¶
vim .filebrowser.json
#å†™å…¥é…ç½®
</code></pre>
<p>å†™å…¥å¦‚ä¸‹é…ç½®</p>
<pre><code class="language-json">{
  &quot;port&quot;: 80,
  &quot;baseURL&quot;: &quot;&quot;,
  &quot;address&quot;: &quot;&quot;,
  &quot;log&quot;: &quot;stdout&quot;,
  &quot;database&quot;: &quot;./database.db&quot;,
  &quot;root&quot;: &quot;/srv&quot;
}
</code></pre>
<p>è¿è¡Œç¨‹åº</p>
<pre><code class="language-bash">docker run \\
    -v /root/filebrowser:/srv \\
    -v /root/filebrowser/filebrowser.db:/database.db \\
    -v /root/filebrowser/.filebrowser.json:/.filebrowser.json \\
    -p 80:80 \\
    filebrowser/filebrowser
</code></pre>
<p>æ‰“å¼€ä½ çš„http://ä½ çš„ip:80æ—¢å¯ä»¥è®¿é—®ç¨‹åºå•¦</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Certbotè‡ªåŠ¨é…ç½®SSL]]></title>
        <id>https://qianmianyao.cn/post/28/</id>
        <link href="https://qianmianyao.cn/post/28/">
        </link>
        <updated>2020-06-10T14:51:13.000Z</updated>
        <summary type="html"><![CDATA[<p>Letâ€™s Encrypt æ˜¯ä¸€ä¸ªè‡ªåŠ¨ç­¾å‘ https è¯ä¹¦çš„å…è´¹é¡¹ç›®<br>
Certbot æ˜¯ Letâ€™s Encrypt å®˜æ–¹æ¨èçš„è¯ä¹¦ç”Ÿæˆå®¢æˆ·ç«¯å·¥å…·</p>
]]></summary>
        <content type="html"><![CDATA[<p>Letâ€™s Encrypt æ˜¯ä¸€ä¸ªè‡ªåŠ¨ç­¾å‘ https è¯ä¹¦çš„å…è´¹é¡¹ç›®<br>
Certbot æ˜¯ Letâ€™s Encrypt å®˜æ–¹æ¨èçš„è¯ä¹¦ç”Ÿæˆå®¢æˆ·ç«¯å·¥å…·</p>
<!-- more -->
<p>é¦–å…ˆå»å®˜ç½‘ <a href="https://certbot.eff.org/">certbot</a></p>
<figure data-type="image" tabindex="1"><a href="https://imgtu.com/i/2jS7i4"><img src="https://z3.ax1x.com/2021/06/16/2jS7i4.png" alt="2jS7i4.png" loading="lazy"></a></figure>
<p>ç®­å¤´æŒ‡å‘çš„åœ°æ–¹é€‰æ‹©ä½ çš„webæœåŠ¡å™¨å’Œç³»ç»Ÿç‰ˆæœ¬<br>
æ¯”å¦‚æˆ‘å¸¸ç”¨çš„å°±æ˜¯nginxå’Œdebian</p>
<p>é€‰æ‹©å¥½åç¨ç­‰1-3ç§’ä¸‹æ‹‰æ—¢å¯ä»¥çœ‹åˆ°å®˜æ–¹çš„éƒ¨ç½²æ•™ç¨‹</p>
<h2 id="å®‰è£…">å®‰è£…</h2>
<p>å®‰è£…æœ¬ä½“å’Œæ’ä»¶</p>
<pre><code class="language-bash">sudo apt-get install certbot python-certbot-nginx
</code></pre>
<p>å¯ä»¥é€‰æ‹©ä¸¤ç§æ–¹å¼è·å–è¯ä¹¦</p>
<p>ç¬¬ä¸€ç§è·å–è¯ä¹¦å¹¶ä¸”ç›´æ¥è‡ªåŠ¨åŒ–é…ç½®nginxæ–‡ä»¶</p>
<pre><code class="language-bash">sudo certbot --nginx
</code></pre>
<p>æˆ–è€…åªè·å–è¯ä¹¦æ–‡ä»¶</p>
<pre><code class="language-bash">sudo certbot certonly --nginx
</code></pre>
<p>å…¶å®å¾ˆç®€å•ï¼Œæ ¹æ®ç®€å•æµç¨‹è¾“å…¥é‚®ç®±å’ŒåŸŸåå°±å¥½äº†</p>
<p>Certbotè‡ªåŠ¨é…ç½®SSL</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Debianå®‰è£…Redis]]></title>
        <id>https://qianmianyao.cn/post/debian-an-zhuang-redis/</id>
        <link href="https://qianmianyao.cn/post/debian-an-zhuang-redis/">
        </link>
        <updated>2020-06-05T14:48:40.000Z</updated>
        <summary type="html"><![CDATA[<p>æœ¬æ¥ä¸€åªç”¨ç€mysqlï¼Œæœ€è¿‘æŠ˜è…¾nodebbéœ€è¦ç”¨åˆ°redisï¼Œè®°å½•ä¸€ä¸‹å®‰è£…è¿‡ç¨‹ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>æœ¬æ¥ä¸€åªç”¨ç€mysqlï¼Œæœ€è¿‘æŠ˜è…¾nodebbéœ€è¦ç”¨åˆ°redisï¼Œè®°å½•ä¸€ä¸‹å®‰è£…è¿‡ç¨‹ã€‚</p>
<!-- more -->
<h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h2>
<p>å»<a href="https://redis.io/">å®˜ç½‘</a>ä¸‹è½½redisæºç </p>
<pre><code class="language-bash">wget http://download.redis.io/releases/redis-6.0.5.tar.gz
tar -zxf redis-6.0.5
cd redis-6.0.5
</code></pre>
<h2 id="å¼€å§‹å®‰è£…">å¼€å§‹å®‰è£…</h2>
<p>ç¼–è¯‘</p>
<pre><code class="language-bash">make
</code></pre>
<p>ç¼–è¯‘å®Œæˆåä¼šå¤šå‡ºæ¥ä¸€ä¸ªsrcæ–‡ä»¶å¤¹å’Œredis.confçš„é…ç½®æ–‡ä»¶</p>
<h2 id="å¼€å§‹è¿è¡Œ">å¼€å§‹è¿è¡Œ</h2>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶</p>
<pre><code class="language-bash">bind 127.0.0.1 //æ”¹æˆä½ æœåŠ¡å™¨çš„ipåœ°å€ã€‚æˆ–è€…æ”¹æˆ0.0.0.0
requirepass ** //è®¾ç½®rediså¯†ç ã€‚
daemonize yes  //ä»¥å®ˆæŠ¤è¿›ç¨‹è¿è¡Œ
</code></pre>
<p>è¿è¡Œ</p>
<pre><code class="language-bash">cd src
redis-server /path/redis.conf //å¯åŠ¨æœåŠ¡
redis-cli //è¿›å…¥äº¤äº’ç•Œé¢
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç½‘ç«™å¤‡ä»½è„šæœ¬]]></title>
        <id>https://qianmianyao.cn/post/26/</id>
        <link href="https://qianmianyao.cn/post/26/">
        </link>
        <updated>2020-05-16T10:36:43.000Z</updated>
        <summary type="html"><![CDATA[<p>å¤‡ä»½æ˜¯é€šè¿‡åˆæ‹äº‘çš„å®˜æ–¹å·¥å…·UPXå®šæ—¶ä¸Šä¼ åˆ°åˆæ‹äº‘çš„å¯¹è±¡å‚¨å­˜ä¸­çš„ï¼Œä½¿ç”¨è¿™ä¸ªè„šæœ¬éœ€è¦å…ˆå®‰è£…UPXå’Œexpectï¼Œåè€…ç”¨æ¥è‡ªåŠ¨ç™»é™†</p>
]]></summary>
        <content type="html"><![CDATA[<p>å¤‡ä»½æ˜¯é€šè¿‡åˆæ‹äº‘çš„å®˜æ–¹å·¥å…·UPXå®šæ—¶ä¸Šä¼ åˆ°åˆæ‹äº‘çš„å¯¹è±¡å‚¨å­˜ä¸­çš„ï¼Œä½¿ç”¨è¿™ä¸ªè„šæœ¬éœ€è¦å…ˆå®‰è£…UPXå’Œexpectï¼Œåè€…ç”¨æ¥è‡ªåŠ¨ç™»é™†</p>
<!-- more -->
<h3 id="è„šæœ¬å†…å®¹">è„šæœ¬å†…å®¹</h3>
<p>æ‰€æœ‰sendå­—æ®µçš„passwdå’Œuserä¿®æ”¹æˆè‡ªå·±çš„ç”¨æˆ·åå’Œå¯†ç </p>
<pre><code class="language-bash">#!/usr/bin/expect -f
set timeout 30
spawn sudo tar -czPf /home/qianmianyao/qianmianyao.cn.tar.gz /home/wwwroot/qianmianyao.cn #è‡ªå·±ä¿®æ”¹å‹ç¼©æ–‡ä»¶å
expect &quot;*user:&quot;
send &quot;passwd\\r&quot;

mysqldump -uuser -ppasswd database&gt;database.sql

set timeout 30
spawn upx login
expect &quot;ServiceName:&quot;
send &quot;user\\r&quot;
expect &quot;Operator:&quot;
send &quot;user\\r&quot;
expect &quot;Password:&quot;
send &quot;passwd&quot;

upx rm qianmianyao.cn.tar.gz #ä¿®æ”¹æˆè‡ªå·±çš„å‹ç¼©æ–‡ä»¶åï¼Œä¸‹é¢ä¸€æ ·
upx rm wp.sql
upx put qianmianyao.cn.tar.gz
upx put wp.sql
</code></pre>
<h3 id="ç»“è¯­">ç»“è¯­</h3>
<p>åˆ©ç”¨expectå’Œupxè‡ªåŠ¨ç™»é™†ï¼Œç„¶åçŸ¥é“ä¸Šä¼ æ–‡ä»¶ï¼Œå®ç°å¤‡ä»½ï¼Œä¸æƒ³ç”¨upxä¹Ÿå¯ä»¥ç›´æ¥ç”¨åˆæ‹äº‘æä¾›çš„ftpï¼Œå®ç°æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p>
<p><a href="https://github.com/upyun/upx">UPX</a></p>
]]></content>
    </entry>
</feed>